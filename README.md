# ChatGPT Telegram Bot

## Описание

Этот проект представляет собой систему, состоящую из Telegram бота и FastAPI сервиса, которые взаимодействуют с API OpenAI для предоставления функциональности ChatGPT. Пользователи могут задавать вопросы через Telegram бота, который перенаправляет их на FastAPI сервис. FastAPI обрабатывает запросы и отправляет их в API OpenAI для получения ответов.

## Основные компоненты

- **Redis**: Используется для кэширования и управления состоянием пользовательских сессий.
- **FastAPI сервис**: Обрабатывает запросы от Telegram бота, взаимодействует с API OpenAI и возвращает ответы.
- **Telegram бот**: Предоставляет интерфейс для пользователей, позволяя им задавать вопросы и получать ответы от ChatGPT.

## Требования

- Docker
- Docker Compose
- API ключи для OpenAI и Telegram Bot

## Установка и запуск

1. Клонируйте репозиторий:

    ```bash
    git clone https://github.com/yourusername/chatgpt-telegram-bot.git
    cd chatgpt-telegram-bot
    ```

2. Настройте переменные окружения:
    Создайте файл `.env` в корне проекта и добавьте следующие переменные:

    ```env
    OPENAI_API_KEY=your_openai_api_key
    TELEGRAM_TOKEN=your_telegram_bot_token
    API_URL=http://fastapi:5000/ask
    DAILY_MESSAGE_LIMIT=3
    ```

3. Соберите и запустите контейнеры:

    ```bash
    docker-compose up --build
    ```

## Использование

1. **Запустите Telegram бота**:
    Откройте Telegram и найдите вашего бота по его имени. Начните диалог с ботом, отправив команду `/start`.

2. **Задавайте вопросы**:
    Отправьте текстовые сообщения с вашими вопросами. Бот будет перенаправлять их на FastAPI сервис, который в свою очередь будет запрашивать ответы у API OpenAI.

## Структура проекта

- **api.py**: FastAPI сервис, обрабатывающий запросы и взаимодействующий с API OpenAI. Поддерживает лимит на количество вопросов в день.
- **bot.py**: Telegram бот, предоставляющий интерфейс для пользователей. Обрабатывает сообщения и передает их в FastAPI сервис.
- **Dockerfile.fastapi**: Dockerfile для сборки FastAPI сервиса.
- **Dockerfile.bot**: Dockerfile для сборки Telegram бота.
- **docker-compose.yml**: Файл Docker Compose для оркестрации контейнеров.
- **requirements.txt**: Файл с зависимостями проекта.

## Лицензия

Этот проект лицензирован под MIT License.

## Конфигурация и Лимиты

- **DAILY_MESSAGE_LIMIT**: Количество вопросов, которые пользователь может задать в день. Значение по умолчанию — 3.

## Контакты

Если у вас есть вопросы или предложения, пожалуйста, свяжитесь с автором проекта.
